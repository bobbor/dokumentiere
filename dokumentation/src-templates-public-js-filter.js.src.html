<!DOCTYPE html><html><head><meta charset="utf-8"><title>src\templates\public\js\filter.js Dokumentation (Source)</title><link rel="stylesheet" href="css/jquery.jscrollpane.css" media="all"><link rel="stylesheet" href="css/style.css" media="all"><link rel="stylesheet" href="css/font-awesome.css" media="all"><link rel="stylesheet" href="css/sh.min.css" media="all"><script src="js/sh_main.min.js"></script><script src="js/sh_javascript.min.js"></script><script data-main="js/main.js" src="js/libs/require-jquery.js"></script><script>$(function() {
 if(location.hash) {
  var name = location.hash.substring(1, location.hash.length);
  $('a[name="'+name+'"]').addClass('highlight');
 }
})</script></head><body id="source" onload="sh_highlightDocument();"><div id="wrapper"><div id="main"><aside class="items"><header><h1><a href="index.html"><em>Aperto</em><span><b>JS</b>Docs</span></a></h1></header><div id="filter"><form><div class="col col-3"><input type="search" placeholder="Suche" name="filter"><button><span>Los</span></button></div><div class="col col-9"><ul class="props"><li><input id="node-module" type="checkbox" name="node-module" checked><label for="node-module">node-module</label></li></ul></div></form></div><section data-type="node-module" data-name="doku" class="col col-3"><h1><a href="node.doku.html">doku</a></h1><h2>node-module (node)</h2><p>starts documentation on the files</p></section><section data-type="node-module" data-name="foldercopy" class="col col-3"><h1><a href="node.foldercopy.html">foldercopy</a></h1><h2>node-module (node)</h2><p>copies the specified folder</p></section><section data-type="node-module" data-name="tags" class="col col-3"><h1><a href="node.tags.html">tags</a></h1><h2>node-module (node)</h2><p>this parses the &quot;tags&quot;</p></section><section data-type="node-module" data-name="tmpl" class="col col-3"><h1><a href="node.tmpl.html">tmpl</a></h1><h2>node-module (node)</h2><p>gets the parsed comments and generates the html</p></section></aside><div id="content"><h1> <span>Source View</span>src\templates\public\js\filter.js</h1><pre class="sh_javascript"><a name="line-1" data-line="1">define(function() {
</a><a name="line-2" data-line="2">	
</a><a name="line-3" data-line="3">	var items = [];
</a><a name="line-4" data-line="4">	var filters = [];
</a><a name="line-5" data-line="5">	
</a><a name="line-6" data-line="6">	var applySearch = function(term) {
</a><a name="line-7" data-line="7">		var re = new RegExp(term, 'gi');
</a><a name="line-8" data-line="8">		$.each(items, function(i, elm) {
</a><a name="line-9" data-line="9">			if(re.test(elm.name) || re.test(elm.desc)) {
</a><a name="line-10" data-line="10">				elm.elm.show();
</a><a name="line-11" data-line="11">			} else {
</a><a name="line-12" data-line="12">				elm.elm.hide();
</a><a name="line-13" data-line="13">			}
</a><a name="line-14" data-line="14">		});
</a><a name="line-15" data-line="15">		$('#item aside, #source aside').jScrollPane();
</a><a name="line-16" data-line="16">	};
</a><a name="line-17" data-line="17">	
</a><a name="line-18" data-line="18">	var checkedFilters = function(sender) {
</a><a name="line-19" data-line="19">		filters = [];
</a><a name="line-20" data-line="20">		$('input[type=&quot;checkbox&quot;]', sender)
</a><a name="line-21" data-line="21">			.each(function(i, elm) {
</a><a name="line-22" data-line="22">				if(elm.checked) {
</a><a name="line-23" data-line="23">					filters.push(elm.name);
</a><a name="line-24" data-line="24">				}
</a><a name="line-25" data-line="25">			})
</a><a name="line-26" data-line="26">		;
</a><a name="line-27" data-line="27">	};
</a><a name="line-28" data-line="28">	
</a><a name="line-29" data-line="29">	var applyFilter = function() {
</a><a name="line-30" data-line="30">		$.each( items, function( i, elm ) {
</a><a name="line-31" data-line="31">			if ( $.inArray( elm.type, filters) !== -1) {
</a><a name="line-32" data-line="32">				elm.elm.show();
</a><a name="line-33" data-line="33">			} else {
</a><a name="line-34" data-line="34">				elm.elm.hide();
</a><a name="line-35" data-line="35">			}
</a><a name="line-36" data-line="36">		} );
</a><a name="line-37" data-line="37">		$('#item aside, #source aside').jScrollPane();
</a><a name="line-38" data-line="38">	};
</a><a name="line-39" data-line="39">	
</a><a name="line-40" data-line="40">	var filter = function(sender, receiver) {
</a><a name="line-41" data-line="41">		items = $('section', receiver).map(function(i, elm) {
</a><a name="line-42" data-line="42">			return {
</a><a name="line-43" data-line="43">				type: elm.getAttribute('data-type'),
</a><a name="line-44" data-line="44">				name: elm.getAttribute('data-name'),
</a><a name="line-45" data-line="45">				desc: $('p', elm).text(),
</a><a name="line-46" data-line="46">				elm: $(elm)
</a><a name="line-47" data-line="47">			};
</a><a name="line-48" data-line="48">		}).get();
</a><a name="line-49" data-line="49">		
</a><a name="line-50" data-line="50">		$('form', sender).submit(function() {return false;});
</a><a name="line-51" data-line="51">		$('input[type=&quot;search&quot;]', sender).bind('keyup', function(e) {
</a><a name="line-52" data-line="52">			applySearch(e.target.value);
</a><a name="line-53" data-line="53">			return false;
</a><a name="line-54" data-line="54">		});
</a><a name="line-55" data-line="55">		$('input[type=&quot;search&quot;]', sender).bind('click', function(e) {
</a><a name="line-56" data-line="56">			applySearch(e.target.value);
</a><a name="line-57" data-line="57">		});
</a><a name="line-58" data-line="58">		checkedFilters(sender);
</a><a name="line-59" data-line="59">		$('input[type=&quot;checkbox&quot;]', sender).bind('change', function(e) {
</a><a name="line-60" data-line="60">				checkedFilters( sender );
</a><a name="line-61" data-line="61">				applyFilter();
</a><a name="line-62" data-line="62">			})
</a><a name="line-63" data-line="63">		;
</a><a name="line-64" data-line="64">	};
</a><a name="line-65" data-line="65">	
</a><a name="line-66" data-line="66">	return {
</a><a name="line-67" data-line="67">		go: filter
</a><a name="line-68" data-line="68">	};
</a><a name="line-69" data-line="69">});
</a></pre></div></div></div></body></html>