<!DOCTYPE html><html><head><meta charset="utf-8"><title>src\tags.js Dokumentation (Source)</title><link rel="stylesheet" href="css/style.css" media="all"><link rel="stylesheet" href="css/font-awesome.css" media="all"><link rel="stylesheet" href="css/sh.min.css" media="all"><script src="js/sh_main.min.js"></script><script src="js/sh_javascript.min.js"></script><script data-main="js/main.js" src="js/libs/require-jquery.js"></script><script>$(function() {
 if(location.hash) {
  var name = location.hash.substring(1, location.hash.length);
  $('a[name="'+name+'"]').addClass('highlight');
 }
})</script></head><body id="source" onload="sh_highlightDocument();"><div id="wrapper"><div id="main"><aside class="items"><header><h1><a href="index.html"><em>Aperto</em><span><b>JS</b>Docs</span></a></h1></header><div id="filter"><form><div class="col col-3"><input type="search" placeholder="Suche" name="filter"><button><span>Los</span></button></div><div class="col col-9"><ul class="props"><li><input id="node-module" type="checkbox" name="node-module" checked><label for="node-module">node-module</label></li></ul></div></form></div><section data-type="node-module" data-name="doku" class="col col-3"><h1><a href="node.doku.html">doku</a></h1><h2>node-module (node)</h2><p>starts documentation on the files</p></section><section data-type="node-module" data-name="foldercopy" class="col col-3"><h1><a href="node.foldercopy.html">foldercopy</a></h1><h2>node-module (node)</h2><p>copies the specified folder</p></section><section data-type="node-module" data-name="tags" class="col col-3"><h1><a href="node.tags.html">tags</a></h1><h2>node-module (node)</h2><p>this parses the &quot;tags&quot;</p></section><section data-type="node-module" data-name="tmpl" class="col col-3"><h1><a href="node.tmpl.html">tmpl</a></h1><h2>node-module (node)</h2><p>gets the parsed comments and generates the html</p></section></aside><div id="content"><h1> <span>Source View</span>src\tags.js</h1><pre class="sh_javascript"><a name="line-1" data-line="1">//
</a><a name="line-2" data-line="2">// /--------------------------------------------\
</a><a name="line-3" data-line="3">// |                                            |
</a><a name="line-4" data-line="4">// | tags.js                                    |
</a><a name="line-5" data-line="5">// | part of &quot;dokumentiere&quot;                     |
</a><a name="line-6" data-line="6">// | licensed under GPLv2                       |
</a><a name="line-7" data-line="7">// |                                            |
</a><a name="line-8" data-line="8">// \--------------------------------------------/
</a><a name="line-9" data-line="9">
</a><a name="line-10" data-line="10">var lastTag = 'generic';
</a><a name="line-11" data-line="11">
</a><a name="line-12" data-line="12">/*-
</a><a name="line-13" data-line="13"> * tags
</a><a name="line-14" data-line="14"> [ node-module (node) ]
</a><a name="line-15" data-line="15"> : bobbor
</a><a name="line-16" data-line="16"> * this parses the &quot;tags&quot;
</a><a name="line-17" data-line="17"> * these are the first symbols of each line in a documentation-comment
</a><a name="line-18" data-line="18"> &gt; Usage
</a><a name="line-19" data-line="19"> | var tags = require('tags')
</a><a name="line-20" data-line="20"> -*/
</a><a name="line-21" data-line="21">var tags = {
</a><a name="line-22" data-line="22">	/*-
</a><a name="line-23" data-line="23">	 * tags['*'](obj, line)
</a><a name="line-24" data-line="24">	 [ function (private) ]
</a><a name="line-25" data-line="25">	 * parses all lines beginning with `\*`
</a><a name="line-26" data-line="26">	 * `\*` means description ( including `ref` and `desc`)
</a><a name="line-27" data-line="27">	 &gt; Parameter
</a><a name="line-28" data-line="28">	 - obj (object) the object to set
</a><a name="line-29" data-line="29">	 - line (string) the line to parse
</a><a name="line-30" data-line="30">	 -*/
</a><a name="line-31" data-line="31">	'*': function( obj, line ) {
</a><a name="line-32" data-line="32">		var desc = {};
</a><a name="line-33" data-line="33">		function adjustReference( refarr ) {
</a><a name="line-34" data-line="34">			for( var i = 0, len = refarr.length; i &lt; len; i++) {
</a><a name="line-35" data-line="35">				refarr[i] = {
</a><a name="line-36" data-line="36">					name: refarr[i].substring( refarr[i].lastIndexOf( '-' ) + 1, refarr[i].length ),
</a><a name="line-37" data-line="37">					link: refarr[i]
</a><a name="line-38" data-line="38">				};
</a><a name="line-39" data-line="39">			}
</a><a name="line-40" data-line="40">			return refarr;
</a><a name="line-41" data-line="41">		}
</a><a name="line-42" data-line="42">		obj.description = obj.description || [];
</a><a name="line-43" data-line="43">		desc = optionParamLine( line.trim(), true );
</a><a name="line-44" data-line="44">		desc.ref = adjustReference( desc.ref );
</a><a name="line-45" data-line="45">		obj.description.push( desc );
</a><a name="line-46" data-line="46">	},
</a><a name="line-47" data-line="47">	/*-
</a><a name="line-48" data-line="48">	 * tags['&gt;'](obj, line)
</a><a name="line-49" data-line="49">	 [ function (private) ]
</a><a name="line-50" data-line="50">	 * parses all lines beginning with `&gt;`
</a><a name="line-51" data-line="51">	 * `&gt;` means a tag, all following lines with `-` (or `|` in case of *Usage*) are associated to it
</a><a name="line-52" data-line="52">	 &gt; Parameter
</a><a name="line-53" data-line="53">	 - obj (object) the object to set
</a><a name="line-54" data-line="54">	 - line (string) the line to parse
</a><a name="line-55" data-line="55">	 -*/
</a><a name="line-56" data-line="56">	'&gt;': function( obj, line ) {
</a><a name="line-57" data-line="57">		lastTag = line.trim();
</a><a name="line-58" data-line="58">		obj.tags = obj.tags || {};
</a><a name="line-59" data-line="59">		obj.tags[lastTag] = obj.tags[lastTag] || [];
</a><a name="line-60" data-line="60">		
</a><a name="line-61" data-line="61">	},
</a><a name="line-62" data-line="62">	/*-
</a><a name="line-63" data-line="63">	 * tags['|'](obj, line)
</a><a name="line-64" data-line="64">	 [ function (private) ]
</a><a name="line-65" data-line="65">	 * parses all lines beginning with `|`
</a><a name="line-66" data-line="66">	 * `|` means usage of the documented element
</a><a name="line-67" data-line="67">	 &gt; Parameter
</a><a name="line-68" data-line="68">	 - obj (object) the object to set
</a><a name="line-69" data-line="69">	 - line (string) the line to parse
</a><a name="line-70" data-line="70">	 -*/
</a><a name="line-71" data-line="71">	'|': function( obj, line ) {
</a><a name="line-72" data-line="72">		obj.tags[lastTag] = obj.tags[lastTag] || [];
</a><a name="line-73" data-line="73">		obj.tags[lastTag].push( line );
</a><a name="line-74" data-line="74">	},
</a><a name="line-75" data-line="75">	/*-
</a><a name="line-76" data-line="76">	 * tags['-'](obj, line, inherit)
</a><a name="line-77" data-line="77">	 [ function (private) ]
</a><a name="line-78" data-line="78">	 * parses all lines beginning with `-`
</a><a name="line-79" data-line="79">	 * `-` means an option and is associated to a tag @see function-tags['&gt;'] function-optionParamLine
</a><a name="line-80" data-line="80">	 &gt; Parameter
</a><a name="line-81" data-line="81">	 - obj (object) the object to set
</a><a name="line-82" data-line="82">	 - line (string) the line to parse
</a><a name="line-83" data-line="83">	 - inherit (boolean) if true, the result is set directly on obj and not on obj.tags[lastTag]
</a><a name="line-84" data-line="84">	 -*/
</a><a name="line-85" data-line="85">	'-': function( obj, line, inherit ) {
</a><a name="line-86" data-line="86">		var item;
</a><a name="line-87" data-line="87">		var result;
</a><a name="line-88" data-line="88">		line = line.trim();
</a><a name="line-89" data-line="89">		
</a><a name="line-90" data-line="90">		function checkReferences( refarr ) {
</a><a name="line-91" data-line="91">			for( var i = 0, len = refarr.length; i &lt; len; i++) {
</a><a name="line-92" data-line="92">				if ( !~refarr[i].indexOf( '-' ) ) {
</a><a name="line-93" data-line="93">					refarr[i] = lastTag + '-' + refarr[i];
</a><a name="line-94" data-line="94">				}
</a><a name="line-95" data-line="95">				refarr[i] = {
</a><a name="line-96" data-line="96">					link: refarr[i],
</a><a name="line-97" data-line="97">					name: refarr[i].substring( refarr[i].lastIndexOf( '-' ) + 1, refarr[i].length )
</a><a name="line-98" data-line="98">				};
</a><a name="line-99" data-line="99">			}
</a><a name="line-100" data-line="100">			return refarr;
</a><a name="line-101" data-line="101">		}
</a><a name="line-102" data-line="102">		
</a><a name="line-103" data-line="103">		if ( line[0] !== '-' ) {
</a><a name="line-104" data-line="104">			if ( inherit ) {
</a><a name="line-105" data-line="105">				result = optionParamLine( line );
</a><a name="line-106" data-line="106">				result.ref = checkReferences( result.ref );
</a><a name="line-107" data-line="107">				obj.push( result );
</a><a name="line-108" data-line="108">			} else {
</a><a name="line-109" data-line="109">				result = optionParamLine( line );
</a><a name="line-110" data-line="110">				result.ref = checkReferences( result.ref );
</a><a name="line-111" data-line="111">				obj.tags[lastTag].push( result );
</a><a name="line-112" data-line="112">			}
</a><a name="line-113" data-line="113">		} else {
</a><a name="line-114" data-line="114">			item = inherit ? obj[obj.length - 1] : obj.tags[lastTag][obj.tags[lastTag].length - 1];
</a><a name="line-115" data-line="115">			item.details = item.details || [];
</a><a name="line-116" data-line="116">			tags['-']( item.details, line.substring( 1, line.length ), true );
</a><a name="line-117" data-line="117">		}
</a><a name="line-118" data-line="118">	},
</a><a name="line-119" data-line="119">	/*-
</a><a name="line-120" data-line="120">	 * tags['='](obj, line, inherit)
</a><a name="line-121" data-line="121">	 [ function (private) ]
</a><a name="line-122" data-line="122">	 * parses all lines beginning with `=`
</a><a name="line-123" data-line="123">	 * `=` means return values similar to `-` @see function-tags['&#45;'] function-optionParamLine
</a><a name="line-124" data-line="124">	 &gt; Parameter
</a><a name="line-125" data-line="125">	 - obj (object) the object to set
</a><a name="line-126" data-line="126">	 - line (string) the line to parse
</a><a name="line-127" data-line="127">	 - inherit (boolean) if true, the result is set directly on obj and not on obj.returns
</a><a name="line-128" data-line="128">	 -*/
</a><a name="line-129" data-line="129">	'=': function( obj, line, inherit ) {
</a><a name="line-130" data-line="130">		var item;
</a><a name="line-131" data-line="131">		if ( !inherit ) {
</a><a name="line-132" data-line="132">			obj.returns = obj.returns || [];
</a><a name="line-133" data-line="133">		}
</a><a name="line-134" data-line="134">		
</a><a name="line-135" data-line="135">		line = line.trim();
</a><a name="line-136" data-line="136">		if ( line[0] !== '=' ) {
</a><a name="line-137" data-line="137">			if ( inherit ) {
</a><a name="line-138" data-line="138">				obj.push( optionParamLine( line ) );
</a><a name="line-139" data-line="139">			} else {
</a><a name="line-140" data-line="140">				obj.returns.push( optionParamLine( line, true ) );
</a><a name="line-141" data-line="141">			}
</a><a name="line-142" data-line="142">		} else {
</a><a name="line-143" data-line="143">			item = inherit ? obj[obj.length - 1] : obj.returns[obj.returns.length - 1];
</a><a name="line-144" data-line="144">			item.details = item.details || [];
</a><a name="line-145" data-line="145">			tags['=']( item.details, line.substring( 1, line.length ), true );
</a><a name="line-146" data-line="146">		}
</a><a name="line-147" data-line="147">	},
</a><a name="line-148" data-line="148">	/*-
</a><a name="line-149" data-line="149">	 * tags['#'](obj, line)
</a><a name="line-150" data-line="150">	 [ function (private) ]
</a><a name="line-151" data-line="151">	 * parses all lines beginning with `#`
</a><a name="line-152" data-line="152">	 * `#` means dependency
</a><a name="line-153" data-line="153">	 &gt; Parameter
</a><a name="line-154" data-line="154">	 - obj (object) the object to set
</a><a name="line-155" data-line="155">	 - line (string) the line to parse
</a><a name="line-156" data-line="156">	 -*/
</a><a name="line-157" data-line="157">	'#': function( obj, line ) {
</a><a name="line-158" data-line="158">		obj.deps = obj.deps || [];
</a><a name="line-159" data-line="159">		obj.deps = obj.deps.concat( line.split( ',' ) );
</a><a name="line-160" data-line="160">	},
</a><a name="line-161" data-line="161">	/*-
</a><a name="line-162" data-line="162">	 * tags[':'](obj, line)
</a><a name="line-163" data-line="163">	 [ function (private) ]
</a><a name="line-164" data-line="164">	 * parses all lines beginning with `:`
</a><a name="line-165" data-line="165">	 * `:` means author
</a><a name="line-166" data-line="166">	 &gt; Parameter
</a><a name="line-167" data-line="167">	 - obj (object) the object to set
</a><a name="line-168" data-line="168">	 - line (string) the line to parse
</a><a name="line-169" data-line="169">	 -*/
</a><a name="line-170" data-line="170">	':': function( obj, line ) {
</a><a name="line-171" data-line="171">		obj.author = obj.author || [];
</a><a name="line-172" data-line="172">		obj.author = obj.author.concat( line.split( ',' ) );
</a><a name="line-173" data-line="173">	},
</a><a name="line-174" data-line="174">	/*-
</a><a name="line-175" data-line="175">	 * tags['+'] (obj, line)
</a><a name="line-176" data-line="176">	 [ function (private) ]
</a><a name="line-177" data-line="177">	 * parses all lines beginning with `+`
</a><a name="line-178" data-line="178">	 * `+` means *extends* (could be a widget, or class or whats'o'ever)
</a><a name="line-179" data-line="179">	 &gt; Parameter
</a><a name="line-180" data-line="180">	 - obj (object) the object to set on
</a><a name="line-181" data-line="181">	 - line (string) the line to parse
</a><a name="line-182" data-line="182">	 -*/
</a><a name="line-183" data-line="183">	'+': function(obj, line) {
</a><a name="line-184" data-line="184">		obj.expando = obj.expando || [];
</a><a name="line-185" data-line="185">		obj.expando = obj.expando.concat( line.split( ',' ) );
</a><a name="line-186" data-line="186">	},
</a><a name="line-187" data-line="187">	/*-
</a><a name="line-188" data-line="188">	 * tags['!'](obj, line)
</a><a name="line-189" data-line="189">	 [ function (private) ]
</a><a name="line-190" data-line="190">	 * parses all lines beginning with `!`
</a><a name="line-191" data-line="191">	 * `!` means *warning*
</a><a name="line-192" data-line="192">	 &gt; Parameter
</a><a name="line-193" data-line="193">	 - obj (object) the object to set
</a><a name="line-194" data-line="194">	 - line (string) the line to parse
</a><a name="line-195" data-line="195">	 -*/
</a><a name="line-196" data-line="196">	'!': function(obj, line) {
</a><a name="line-197" data-line="197">		obj.warning = obj.warning || [];
</a><a name="line-198" data-line="198">		obj.warning.push( line );
</a><a name="line-199" data-line="199">	}
</a><a name="line-200" data-line="200">};
</a><a name="line-201" data-line="201">
</a><a name="line-202" data-line="202">/*-
</a><a name="line-203" data-line="203"> * optionParamLine(line, avoidName)
</a><a name="line-204" data-line="204"> [ function (private) ]
</a><a name="line-205" data-line="205"> * parses lines that are &quot;option&quot;-lines
</a><a name="line-206" data-line="206"> * these are usually used in `-` and `=`
</a><a name="line-207" data-line="207"> &gt; Parameter
</a><a name="line-208" data-line="208"> - line (string) the line to parse
</a><a name="line-209" data-line="209"> - avoidName (boolean) if true, no name will be set on returned object
</a><a name="line-210" data-line="210"> = (object) the object resulting from parsing the line
</a><a name="line-211" data-line="211"> == name (string) the name of the option ('' if avoidName is true)
</a><a name="line-212" data-line="212"> == desc (array) the description of the option (each item of the array is a line)
</a><a name="line-213" data-line="213"> == ref (array) the references of the option (each item if the array is a ref)
</a><a name="line-214" data-line="214"> == type* (array) an array of possible valid types surrounded by '(' and ')'
</a><a name="line-215" data-line="215"> == defaults* (string) which values are default used - surrounded by '&lt;' and '&gt;'
</a><a name="line-216" data-line="216"> == valids* (string) which values are valid - surrounded by '[' and ']'
</a><a name="line-217" data-line="217"> -*/
</a><a name="line-218" data-line="218">var optionParamLine = function( line, avoidName ) {
</a><a name="line-219" data-line="219">	var vals = line.split( ' ' );
</a><a name="line-220" data-line="220">	var typeRE = /^\(([a-zA-Z0-9\ \|]+)\)/;
</a><a name="line-221" data-line="221">	var defaultRE = /^\&lt;([\[\ \,\|]{0,}[\S\s]{0,}[\ \,\]\|]{0,})\&gt;/;
</a><a name="line-222" data-line="222">	var validRE = /^\[([\S\s]+)\]/;
</a><a name="line-223" data-line="223">	var seeRE = /(\@see([\S\s]*))/;
</a><a name="line-224" data-line="224">	var name = !avoidName ? vals.shift() : '';
</a><a name="line-225" data-line="225">	var result;
</a><a name="line-226" data-line="226">	vals = vals.join( ' ' );
</a><a name="line-227" data-line="227">	
</a><a name="line-228" data-line="228">	if ( name &amp;&amp; name.lastIndexOf( '*' ) === name.length - 1 ) {
</a><a name="line-229" data-line="229">		name = name.replace( /([\S]+)\*$/, '&lt;i&gt;(opt.)&lt;/i&gt; $1' );
</a><a name="line-230" data-line="230">	}
</a><a name="line-231" data-line="231">	var ret = {
</a><a name="line-232" data-line="232">		name: name,
</a><a name="line-233" data-line="233">		desc: [],
</a><a name="line-234" data-line="234">		ref: []
</a><a name="line-235" data-line="235">	};
</a><a name="line-236" data-line="236">	if ( typeRE.test( vals ) ) {
</a><a name="line-237" data-line="237">		result = typeRE.exec( vals );
</a><a name="line-238" data-line="238">		ret.type = result[1];
</a><a name="line-239" data-line="239">		ret.type = ret.type.split( '|' );
</a><a name="line-240" data-line="240">		vals = vals.replace( typeRE, '' ).trim();
</a><a name="line-241" data-line="241">	}
</a><a name="line-242" data-line="242">	if ( defaultRE.test( vals ) ) {
</a><a name="line-243" data-line="243">		result = defaultRE.exec( vals );
</a><a name="line-244" data-line="244">		ret.defaults = result[1];
</a><a name="line-245" data-line="245">		
</a><a name="line-246" data-line="246">		ret.defaults = {
</a><a name="line-247" data-line="247">			raw: ret.defaults,
</a><a name="line-248" data-line="248">			type: keywordChecker( ret.defaults )
</a><a name="line-249" data-line="249">		};
</a><a name="line-250" data-line="250">		
</a><a name="line-251" data-line="251">		vals = vals.replace( defaultRE, '' ).trim();
</a><a name="line-252" data-line="252">	}
</a><a name="line-253" data-line="253">	if ( validRE.test( vals ) ) {
</a><a name="line-254" data-line="254">		result = validRE.exec( vals );
</a><a name="line-255" data-line="255">		ret.valids = result[1].split( ',' );
</a><a name="line-256" data-line="256">		ret.valids = generateValids( ret.valids );
</a><a name="line-257" data-line="257">		vals = vals.replace( validRE, '' ).trim();
</a><a name="line-258" data-line="258">	}
</a><a name="line-259" data-line="259">	if ( seeRE.test( vals ) ) {
</a><a name="line-260" data-line="260">		var ref = seeRE.exec( vals );
</a><a name="line-261" data-line="261">		ret.ref = ref[2].trim().split( ' ' );
</a><a name="line-262" data-line="262">		vals = vals.replace( ref[1], '' );
</a><a name="line-263" data-line="263">	}
</a><a name="line-264" data-line="264">	ret.desc = prettify( vals );
</a><a name="line-265" data-line="265">	return ret;
</a><a name="line-266" data-line="266">};
</a><a name="line-267" data-line="267">
</a><a name="line-268" data-line="268">/*-
</a><a name="line-269" data-line="269"> * prettify(desc)
</a><a name="line-270" data-line="270"> [ function (private) ]
</a><a name="line-271" data-line="271"> * transforms `\``, `\*` and `\_`
</a><a name="line-272" data-line="272"> * parses the description of a function or module&lt;br/&gt;
</a><a name="line-273" data-line="273"> * it transforms those to `code`, `strong` and `em`&lt;br/&gt;
</a><a name="line-274" data-line="274"> * \`foo\` == &lt;code&gt;foo&lt;/code&gt;&lt;br/&gt;
</a><a name="line-275" data-line="275"> * \*foo\* == &lt;strong&gt;foo&lt;/strong&gt;&lt;br/&gt;
</a><a name="line-276" data-line="276"> * \_foo\_ == &lt;em&gt;foo&lt;/strong&gt;
</a><a name="line-277" data-line="277"> &gt; Parameter
</a><a name="line-278" data-line="278"> - desc (string) the string to parse
</a><a name="line-279" data-line="279"> = (string) the prettified string
</a><a name="line-280" data-line="280"> &gt; Usage
</a><a name="line-281" data-line="281"> | var myCodeString = prettify(myString); 
</a><a name="line-282" data-line="282"> -*/
</a><a name="line-283" data-line="283">var prettify = function( desc ) {
</a><a name="line-284" data-line="284">	return desc.replace( /\\`/gi, '|code|' ).replace( /\\\*/gi, '|bold|' ).replace( /\\_/gi, '|italic|' ).split( '`' ).map( function( elm, i ) {
</a><a name="line-285" data-line="285">		if ( i % 2 ) {
</a><a name="line-286" data-line="286">			elm = '&lt;code&gt;' + elm + '&lt;/code&gt;';
</a><a name="line-287" data-line="287">		}
</a><a name="line-288" data-line="288">		return elm;
</a><a name="line-289" data-line="289">	} ).join( '' ).split( '*' ).map( function( elm, i ) {
</a><a name="line-290" data-line="290">		if ( i % 2 ) {
</a><a name="line-291" data-line="291">			elm = '&lt;strong&gt;' + elm + '&lt;/strong&gt;';
</a><a name="line-292" data-line="292">		}
</a><a name="line-293" data-line="293">		return elm;
</a><a name="line-294" data-line="294">	} ).join( '' ).split( '_' ).map( function( elm, i ) {
</a><a name="line-295" data-line="295">		if ( i % 2 ) {
</a><a name="line-296" data-line="296">			elm = '&lt;em&gt;' + elm + '&lt;/em&gt;';
</a><a name="line-297" data-line="297">		}
</a><a name="line-298" data-line="298">		return elm;
</a><a name="line-299" data-line="299">	} ).join( '' ).replace( /\|code\|/gi, '`' ).replace( /\|bold\|/gi, '*' ).replace( /\|italic\|/gi, '_' );
</a><a name="line-300" data-line="300">};
</a><a name="line-301" data-line="301">
</a><a name="line-302" data-line="302">/*-
</a><a name="line-303" data-line="303"> * generateValids(valids)
</a><a name="line-304" data-line="304"> [ function (private) ]
</a><a name="line-305" data-line="305"> * generates all valids with type
</a><a name="line-306" data-line="306"> * walks through the array of valid values and checks the for a keyword @see keywordChecker
</a><a name="line-307" data-line="307"> &gt; Parameter
</a><a name="line-308" data-line="308"> - valids (array) the array of valid values
</a><a name="line-309" data-line="309"> = (object) the map for the value
</a><a name="line-310" data-line="310"> == raw (string) the string of valid value
</a><a name="line-311" data-line="311"> == type (string) the type of which the value is
</a><a name="line-312" data-line="312"> &gt; Usage
</a><a name="line-313" data-line="313"> | var obj = generateValids(&quot;['foo', true]&quot;);
</a><a name="line-314" data-line="314"> -*/
</a><a name="line-315" data-line="315">var generateValids = function( valids ) {
</a><a name="line-316" data-line="316">	return valids.map( function( elm, i ) {
</a><a name="line-317" data-line="317">		return {
</a><a name="line-318" data-line="318">			raw: elm,
</a><a name="line-319" data-line="319">			type: keywordChecker( elm )
</a><a name="line-320" data-line="320">		};
</a><a name="line-321" data-line="321">	} );
</a><a name="line-322" data-line="322">};
</a><a name="line-323" data-line="323">
</a><a name="line-324" data-line="324">/*-
</a><a name="line-325" data-line="325"> * keywordChecker(text)
</a><a name="line-326" data-line="326"> [ function (private) ]
</a><a name="line-327" data-line="327"> * checks if a string matches a javascript keyword
</a><a name="line-328" data-line="328"> &gt; Parameter
</a><a name="line-329" data-line="329"> - text (string) the string to test for a keyword
</a><a name="line-330" data-line="330"> &gt; Usage
</a><a name="line-331" data-line="331"> | var type = keywordChecker('true'); // returns boolean
</a><a name="line-332" data-line="332"> = (string) ['string', 'boolean', 'number', 'default'] returns the type of the string &lt;br/&gt; falls back to &quot;default&quot; if not identified
</a><a name="line-333" data-line="333"> -*/
</a><a name="line-334" data-line="334">var keywordChecker = function( text ) {
</a><a name="line-335" data-line="335">	var bool = /true|false/;
</a><a name="line-336" data-line="336">	var string = /^(\'|\&quot;)[\S\s]+(\'|\&quot;)$/;
</a><a name="line-337" data-line="337">	var number = /[0-9\.]+/;
</a><a name="line-338" data-line="338">	text = text.trim();
</a><a name="line-339" data-line="339">	// we start with string, preventing strings ( e.g. &quot;true&quot; ) is not incorrectely interpreted
</a><a name="line-340" data-line="340">	if ( string.test( text ) ) {
</a><a name="line-341" data-line="341">		return 'string';
</a><a name="line-342" data-line="342">	} else if ( bool.test( text ) ) {
</a><a name="line-343" data-line="343">		return 'boolean';
</a><a name="line-344" data-line="344">	} else if ( number.test( text ) ) {
</a><a name="line-345" data-line="345">		return 'number';
</a><a name="line-346" data-line="346">	}
</a><a name="line-347" data-line="347">	return 'default';
</a><a name="line-348" data-line="348">};
</a><a name="line-349" data-line="349">/*-
</a><a name="line-350" data-line="350"> * parseLine(obj, line)
</a><a name="line-351" data-line="351"> [ function (public) ]
</a><a name="line-352" data-line="352"> * parses the given line
</a><a name="line-353" data-line="353"> &gt; Parameter
</a><a name="line-354" data-line="354"> - obj (object) the object which should be extended with the right property
</a><a name="line-355" data-line="355"> - line (string) the line to comment of the comment given
</a><a name="line-356" data-line="356"> -*/
</a><a name="line-357" data-line="357">exports.parseLine = function( obj, line ) {
</a><a name="line-358" data-line="358">	var tag = line[0];
</a><a name="line-359" data-line="359">	line = line.substring( 1, line.length );
</a><a name="line-360" data-line="360">	tags[tag]( obj, line );
</a><a name="line-361" data-line="361">};
</a><a name="line-362" data-line="362">
</a></pre></div></div></div></body></html>